# Jail brand configuration
# All strings act as templates, possbile parameters
# are:
#
# {inner_id}   - the jid of the inner jail (only halt, login)
# {ounter_id}  - the jid of the outer jail (only halt, login)
# {jail_uuid}  - uuid if the jail
# {jail_root}  - root of the jail
# {brand_root} - root of this brand
# {hostname}   - hostname of the jail

modname=jail

# install is executed after cloning
[install]
cmd="{brand_root}/install"
args=["{jail_root}", "{brand_root}"]

# installed before booting (on the host)
[init]
cmd="{brand_root}/init"
args=["{jail_root}", "{brand_root}"]

# executed after booting the outer zone to
# boot the inner zone
[boot]
cmd="{brand_root}/boot"
args=["{jail_uuid}" "{hostname}"]

# Halt the jail executed on the host before
# rctl and interfaces are torn down
[halt]
cmd="{brand_root}/halt"
args=["{jail_root}", "{inner_id}"]

[login]
cmd="/usr/sbin/jexec"
args=["{jail_id}", "/bin/csh"]